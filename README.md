# ì½˜ì„œíŠ¸ ì¢Œì„ ì˜ˆì•½ ì‹œìŠ¤í…œ

ë¹„íšŒì› ê¸°ë°˜ì˜ ì½˜ì„œíŠ¸ ì¢Œì„ ì˜ˆì•½ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë™ì‹œ ì ‘ì† í™˜ê²½ì—ì„œ ì¢Œì„ ì¤‘ë³µ ì˜ˆì•½ì„ ë°©ì§€í•˜ëŠ” ì•ˆì •ì ì¸ ì„ ì  ì²˜ë¦¬ ë¡œì§ê³¼ ì§ê´€ì ì¸ UI/UXë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì‹œì‘í•˜ê¸°](#ì‹œì‘í•˜ê¸°)
- [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](#í™˜ê²½-ë³€ìˆ˜-ì„¤ì •)
- [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •](#ë°ì´í„°ë² ì´ìŠ¤-ì„¤ì •)
- [ê°œë°œ ê°€ì´ë“œ](#ê°œë°œ-ê°€ì´ë“œ)
- [ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…](#ì£¼ìš”-ê¸°ëŠ¥-ì„¤ëª…)
- [í…ŒìŠ¤íŠ¸](#í…ŒìŠ¤íŠ¸)
- [ê°œë°œì ë„êµ¬](#ê°œë°œì-ë„êµ¬)

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### ì˜ˆë§¤ì ê¸°ëŠ¥
- **ì½˜ì„œíŠ¸ íƒìƒ‰**: ì˜ˆì•½ ê°€ëŠ¥í•œ ì½˜ì„œíŠ¸ ëª©ë¡ ì¡°íšŒ ë° ìƒì„¸ ì •ë³´ í™•ì¸
- **ì¢Œì„ ì„ íƒ**: ì‹¤ì‹œê°„ ì¢Œì„ í˜„í™© í™•ì¸ ë° ì¸í„°ë™í‹°ë¸Œ ì¢Œì„ ë°°ì¹˜ë„ì—ì„œ ì„ íƒ
- **ì„ì‹œ ì„ ì **: ì¢Œì„ ì„ íƒ ì‹œ 5ë¶„ê°„ ì„ì‹œ ì„ ì  (ë‹¤ë¥¸ ì‚¬ìš©ì ì„ íƒ ë¶ˆê°€)
- **ì˜ˆì•½ í™•ì •**: ì˜ˆì•½ì ì •ë³´ ì…ë ¥ í›„ ì˜ˆì•½ ì™„ë£Œ
- **ì˜ˆì•½ ì¡°íšŒ**: íœ´ëŒ€í° ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ë¡œ ì˜ˆì•½ ë‚´ì—­ ì¡°íšŒ
- **ì˜ˆì•½ ì·¨ì†Œ**: ì˜ˆì•½ ë‚´ì—­ ì·¨ì†Œ ë° ì¢Œì„ í•´ì œ

### í•µì‹¬ ì •ì±…
- **ì¢Œì„ ì„ ì  ì‹œìŠ¤í…œ**: ì¢Œì„ ì„ íƒ ì‹œ 5ë¶„ê°„ ì„ì‹œ ì„ ì  ìƒíƒœë¡œ ë³€ê²½
- **ì¤‘ë³µ ì˜ˆì•½ ë°©ì§€**: íŠ¸ëœì­ì…˜ ê¸°ë°˜ ì•ˆì „í•œ ì¢Œì„ ì˜ˆì•½ ì²˜ë¦¬
- **ì‹¤ì‹œê°„ ì¢Œì„ í˜„í™©**: ì”ì—¬ ì¢Œì„ ìˆ˜ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- **ë¹„íšŒì› ì˜ˆì•½**: ë³„ë„ íšŒì›ê°€ì… ì—†ì´ ë¹ ë¥¸ ì˜ˆì•½ ê°€ëŠ¥
- **ìë™ ì„ ì  í•´ì œ**: ë§Œë£Œëœ ì„ ì  ì¢Œì„ ìë™ ì •ë¦¬ (Cron ì‘ì—…)

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Next.js 15** - React í”„ë ˆì„ì›Œí¬ (App Router, Turbopack)
- **TypeScript** - íƒ€ì… ì•ˆì •ì„±
- **React 19** - UI ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Tailwind CSS 4** - ìœ í‹¸ë¦¬í‹° ê¸°ë°˜ CSS
- **Shadcn UI** - ì ‘ê·¼ì„± ë†’ì€ UI ì»´í¬ë„ŒíŠ¸
- **Lucide React** - ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Framer Motion** - ì• ë‹ˆë©”ì´ì…˜

### State Management
- **@tanstack/react-query** - ì„œë²„ ìƒíƒœ ê´€ë¦¬
- **Zustand** - í´ë¼ì´ì–¸íŠ¸ ì „ì—­ ìƒíƒœ ê´€ë¦¬
- **React Context API** - ê¸°ëŠ¥ë³„ ìƒíƒœ ê´€ë¦¬ (ì¢Œì„ ì„ íƒ, ì˜ˆì•½ í”„ë¡œì„¸ìŠ¤)
- **React Hook Form** - í¼ ìƒíƒœ ê´€ë¦¬

### Backend
- **Hono** - ë¹ ë¥´ê³  ê°€ë²¼ìš´ ì›¹ í”„ë ˆì„ì›Œí¬
- **Supabase** - ë°±ì—”ë“œ as a Service (PostgreSQL)
- **Zod** - ìŠ¤í‚¤ë§ˆ ê²€ì¦
- **bcryptjs** - ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”

### Utilities
- **date-fns** - ë‚ ì§œ/ì‹œê°„ ì²˜ë¦¬
- **ts-pattern** - íŒ¨í„´ ë§¤ì¹­
- **es-toolkit** - ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
- **axios** - HTTP í´ë¼ì´ì–¸íŠ¸

### Testing
- **Vitest** - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬
- **@testing-library/react** - React ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
- **@testing-library/jest-dom** - DOM ë§¤ì²˜

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
02_01ConcertReserve/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (protected)/        # ì¸ì¦ í•„ìš” í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ dashboard/      # ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”œâ”€â”€ api/                 # API ë¼ìš°íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ [[...hono]]/    # Hono ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ cron/           # Cron ì‘ì—…
â”‚   â”‚   â”‚       â””â”€â”€ cleanup-expired-holds/  # ë§Œë£Œëœ ì„ ì  ì •ë¦¬
â”‚   â”‚   â”œâ”€â”€ book/               # ì˜ˆì•½ ì •ë³´ ì…ë ¥ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ concerts/            # ì½˜ì„œíŠ¸ ê´€ë ¨ í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ [id]/           # ì½˜ì„œíŠ¸ ìƒì„¸
â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx    # ì½˜ì„œíŠ¸ ìƒì„¸ ì •ë³´
â”‚   â”‚   â”‚       â””â”€â”€ seats/      # ì¢Œì„ ì„ íƒ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ dev/                 # ê°œë°œì ë„êµ¬
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/           # ê´€ë¦¬ì ë„êµ¬
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ cleanup/     # ì„ ì  ì •ë¦¬ ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ seat-audit/      # ì¢Œì„ ê°ì‹œ ë„êµ¬
â”‚   â”‚   â”œâ”€â”€ reservations/        # ì˜ˆì•½ ê´€ë ¨ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ form/           # ì˜ˆì•½ ì •ë³´ ì…ë ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ lookup/         # ì˜ˆì•½ ì¡°íšŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ complete/       # ì˜ˆì•½ ì™„ë£Œ
â”‚   â”‚   â”‚   â””â”€â”€ [reservationId]/ # ì˜ˆì•½ ìƒì„¸
â”‚   â”‚   â”œâ”€â”€ login/              # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ signup/              # íšŒì›ê°€ì… í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ page.tsx            # í™ˆ í˜ì´ì§€
â”‚   â”‚
â”‚   â”œâ”€â”€ backend/                # ë°±ì—”ë“œ ë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ hono/               # Hono ì•± ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ middleware/         # ê³µí†µ ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â”œâ”€â”€ http/               # HTTP ì‘ë‹µ í—¬í¼
â”‚   â”‚   â”œâ”€â”€ supabase/            # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ config/              # í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
â”‚   â”‚
â”‚   â”œâ”€â”€ features/               # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ auth/               # ì¸ì¦ ê¸°ëŠ¥
â”‚   â”‚   â”œâ”€â”€ concert/            # ì½˜ì„œíŠ¸ ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ backend/        # API ë¼ìš°í„°, ì„œë¹„ìŠ¤, ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ components/     # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/          # React Query í›…
â”‚   â”‚   â”‚   â””â”€â”€ lib/            # DTO ì¬ë…¸ì¶œ
â”‚   â”‚   â”œâ”€â”€ reservation/         # ì˜ˆì•½ ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ backend/        # ì˜ˆì•½ API
â”‚   â”‚   â”‚   â”œâ”€â”€ components/     # ì˜ˆì•½ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/          # ì˜ˆì•½ í›…
â”‚   â”‚   â”‚   â”œâ”€â”€ lookup/         # ì˜ˆì•½ ì¡°íšŒ Provider
â”‚   â”‚   â”‚   â””â”€â”€ process/        # ì˜ˆì•½ í”„ë¡œì„¸ìŠ¤ Provider
â”‚   â”‚   â””â”€â”€ seat-selection/      # ì¢Œì„ ì„ íƒ ê¸°ëŠ¥
â”‚   â”‚       â”œâ”€â”€ backend/        # ì¢Œì„ ì„ ì  API
â”‚   â”‚       â”œâ”€â”€ components/     # ì¢Œì„ ì„ íƒ UI
â”‚   â”‚       â”œâ”€â”€ hooks/          # ì¢Œì„ ì„ íƒ í›…
â”‚   â”‚       â”œâ”€â”€ state/          # ì¢Œì„ ì„ íƒ ìƒíƒœ ê´€ë¦¬ (Context)
â”‚   â”‚       â””â”€â”€ types/          # íƒ€ì… ì •ì˜
â”‚   â”‚
â”‚   â”œâ”€â”€ components/              # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ ui/                 # Shadcn UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                    # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ remote/             # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ supabase/           # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                 # Zustand ìŠ¤í† ì–´
â”‚   â”‚   â””â”€â”€ useReservationSession.ts  # ì˜ˆì•½ ì„¸ì…˜ ê´€ë¦¬
â”‚   â”‚
â”‚   â””â”€â”€ constants/              # ìƒìˆ˜ ì •ì˜
â”‚
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/             # Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼
â”‚       â”œâ”€â”€ 0001_create_example_table.sql
â”‚       â”œâ”€â”€ 0002_create_concert_reservation_schema.sql
â”‚       â”œâ”€â”€ 0003_add_concert_details.sql
â”‚       â”œâ”€â”€ 0004_seed_sample_concerts.sql
â”‚       â”œâ”€â”€ 0005_seed_concert_tiers_and_seats.sql
â”‚       â”œâ”€â”€ 0006_add_seat_layout_metadata.sql
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ docs/                       # ë¬¸ì„œ
â”‚   â”œâ”€â”€ prd.md                 # ì œí’ˆ ìš”êµ¬ì‚¬í•­
â”‚   â”œâ”€â”€ userflow.md            # ì‚¬ìš©ì í”Œë¡œìš°
â”‚   â”œâ”€â”€ database.md            # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ state-management.md   # ìƒíƒœ ê´€ë¦¬ ê°€ì´ë“œ
â”‚
â””â”€â”€ public/                     # ì •ì  íŒŒì¼
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js 20 ì´ìƒ
- npm, yarn, pnpm ì¤‘ í•˜ë‚˜
- Supabase ê³„ì • ë° í”„ë¡œì íŠ¸

### ì„¤ì¹˜

1. **ì €ì¥ì†Œ í´ë¡ **

```bash
git clone https://github.com/dasanworld/ConcertReserve.git
cd ConcertReserve
```

2. **ì˜ì¡´ì„± ì„¤ì¹˜**

```bash
npm install
# ë˜ëŠ”
yarn install
# ë˜ëŠ”
pnpm install
```

3. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

`.env.local` íŒŒì¼ì„ ìƒì„±í•˜ê³  í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. (ìì„¸í•œ ë‚´ìš©ì€ [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](#í™˜ê²½-ë³€ìˆ˜-ì„¤ì •) ì°¸ì¡°)

4. **ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©**

Supabase ëŒ€ì‹œë³´ë“œì˜ SQL Editorì—ì„œ `supabase/migrations/` ë””ë ‰í† ë¦¬ì˜ SQL íŒŒì¼ë“¤ì„ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.

5. **ê°œë°œ ì„œë²„ ì‹¤í–‰**

```bash
npm run dev
# ë˜ëŠ”
yarn dev
# ë˜ëŠ”
pnpm dev
```

ê°œë°œ ì„œë²„ê°€ ì‹¤í–‰ë˜ë©´ [http://localhost:3000](http://localhost:3000)ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë¹Œë“œ

```bash
npm run build
npm run start
```

### ë¦°íŠ¸

```bash
npm run lint
```

## âš™ï¸ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ì„ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìƒì„±í•˜ê³  ë‹¤ìŒ ë³€ìˆ˜ë“¤ì„ ì„¤ì •í•˜ì„¸ìš”:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_URL=your_supabase_project_url
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ëª…

- `NEXT_PUBLIC_SUPABASE_URL`: Supabase í”„ë¡œì íŠ¸ URL (í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©)
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`: Supabase Anon Key (í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©)
- `SUPABASE_URL`: Supabase í”„ë¡œì íŠ¸ URL (ì„œë²„ì—ì„œ ì‚¬ìš©)
- `SUPABASE_SERVICE_ROLE_KEY`: Supabase Service Role Key (ì„œë²„ ì „ìš©, ì ˆëŒ€ í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œ ê¸ˆì§€)

> âš ï¸ **ë³´ì•ˆ ì£¼ì˜**: `SUPABASE_SERVICE_ROLE_KEY`ëŠ” ì„œë²„ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©ë˜ë©°, í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì— í¬í•¨ë˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

### Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©

1. Supabase ëŒ€ì‹œë³´ë“œì— ì ‘ì†
2. SQL Editorë¡œ ì´ë™
3. `supabase/migrations/` ë””ë ‰í† ë¦¬ì˜ SQL íŒŒì¼ë“¤ì„ **ìˆœì„œëŒ€ë¡œ** ì‹¤í–‰

**ë§ˆì´ê·¸ë ˆì´ì…˜ ìˆœì„œ:**
1. `0001_create_example_table.sql` - ì˜ˆì‹œ í…Œì´ë¸” (ì„ íƒì‚¬í•­)
2. `0002_create_concert_reservation_schema.sql` - í•µì‹¬ ìŠ¤í‚¤ë§ˆ ìƒì„±
3. `0003_add_concert_details.sql` - ì½˜ì„œíŠ¸ ìƒì„¸ ì •ë³´ ì¶”ê°€
4. `0004_seed_sample_concerts.sql` - ìƒ˜í”Œ ì½˜ì„œíŠ¸ ë°ì´í„°
5. `0005_seed_concert_tiers_and_seats.sql` - ë“±ê¸‰ ë° ì¢Œì„ ë°ì´í„°
6. `0006_add_seat_layout_metadata.sql` - ì¢Œì„ ë ˆì´ì•„ì›ƒ ë©”íƒ€ë°ì´í„°
7. ì´í›„ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ë“¤...

### ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ì‘ì„± ê°€ì´ë“œ

- ê° ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ì€ ê³ ìœ í•œ ë²ˆí˜¸ ì ‘ë‘ì‚¬ë¥¼ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤ (ì˜ˆ: `0001_`, `0002_`)
- `CREATE TABLE IF NOT EXISTS` ì‚¬ìš©ìœ¼ë¡œ ë©±ë“±ì„± ë³´ì¥
- ëª¨ë“  í…Œì´ë¸”ì— `updated_at` ì»¬ëŸ¼ ì¶”ê°€ ë° ìë™ ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±° ì„¤ì •
- RLS(Row Level Security)ëŠ” ë¹„í™œì„±í™” (í”„ë¡œì íŠ¸ ì •ì±…ì— ë”°ë¼)

ìì„¸í•œ ë‚´ìš©ì€ `.ruler/supabase.md`ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ’» ê°œë°œ ê°€ì´ë“œ

### ë°±ì—”ë“œ ê°œë°œ (Hono)

#### ë¼ìš°í„° ì¶”ê°€

ìƒˆë¡œìš´ ê¸°ëŠ¥ì˜ ë¼ìš°í„°ë¥¼ ì¶”ê°€í•˜ë ¤ë©´:

1. `src/features/[feature]/backend/route.ts`ì— ë¼ìš°í„° ì •ì˜
2. `src/features/[feature]/backend/schema.ts`ì— Zod ìŠ¤í‚¤ë§ˆ ì •ì˜
3. `src/features/[feature]/backend/service.ts`ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„
4. `src/backend/hono/app.ts`ì—ì„œ ë¼ìš°í„° ë“±ë¡

ì˜ˆì‹œ:

```typescript
// src/features/concert/backend/route.ts
import { Hono } from 'hono';
import type { AppEnv } from '@/backend/hono/context';

export function registerConcertRoutes(app: Hono<AppEnv>) {
  app.get('/api/concerts', async (c) => {
    // ë¼ìš°í„° ë¡œì§
  });
}
```

#### ê³µí†µ ì‘ë‹µ íŒ¨í„´

ëª¨ë“  APIëŠ” `src/backend/http/response.ts`ì˜ í—¬í¼ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```typescript
import { success, failure, respond } from '@/backend/http/response';

// ì„±ê³µ ì‘ë‹µ
return respond(c, success(data));

// ì‹¤íŒ¨ ì‘ë‹µ
return respond(c, failure(400, 'ERROR_CODE', 'ì—ëŸ¬ ë©”ì‹œì§€'));
```

### í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ

#### React Query í›… ì‚¬ìš©

ì„œë²„ ìƒíƒœ ê´€ë¦¬ëŠ” React Queryë¥¼ í†µí•´ ìˆ˜í–‰í•©ë‹ˆë‹¤:

```typescript
// src/features/concert/hooks/useConcertListQuery.ts
import { useQuery } from '@tanstack/react-query';
import { apiClient } from '@/lib/remote/api-client';

export function useConcertList() {
  return useQuery({
    queryKey: ['concerts'],
    queryFn: () => apiClient.get('/api/concerts'),
  });
}
```

#### Context APIë¥¼ í†µí•œ ìƒíƒœ ê´€ë¦¬

ì¢Œì„ ì„ íƒê³¼ ê°™ì€ ë³µì¡í•œ ìƒíƒœëŠ” Context APIë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤:

```typescript
// src/features/seat-selection/state/seat-selection-context.tsx
export function SeatSelectionProvider({ children }) {
  // ìƒíƒœ ê´€ë¦¬ ë¡œì§
}
```

#### ì»´í¬ë„ŒíŠ¸ ì‘ì„± ê·œì¹™

- ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” Client Component (`"use client"`)ë¡œ ì‘ì„±
- Shadcn UI ì»´í¬ë„ŒíŠ¸ë¥¼ ìš°ì„  ì‚¬ìš©
- Tailwind CSSë¡œ ìŠ¤íƒ€ì¼ë§
- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ ì¤€ìˆ˜

### ì½”ë“œ ìŠ¤íƒ€ì¼

- TypeScript íƒ€ì… ì•ˆì •ì„± ìµœìš°ì„ 
- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„
- Early return íŒ¨í„´ ì‚¬ìš©
- ëª…í™•í•œ ë³€ìˆ˜ëª…ê³¼ í•¨ìˆ˜ëª…
- ë¶ˆí•„ìš”í•œ ì£¼ì„ ìµœì†Œí™” (ì½”ë“œ ìì²´ê°€ ì„¤ëª…)

## ğŸ“– ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…

### ì¢Œì„ ì„ ì  ì‹œìŠ¤í…œ

ì‚¬ìš©ìê°€ ì¢Œì„ì„ ì„ íƒí•˜ë©´:

1. ì¢Œì„ ìƒíƒœê°€ `available` â†’ `temporarily_held`ë¡œ ë³€ê²½
2. `hold_expires_at` í•„ë“œì— í˜„ì¬ ì‹œê° + 5ë¶„ ê¸°ë¡
3. 5ë¶„ ë‚´ ì˜ˆì•½ ì™„ë£Œí•˜ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ `available`ë¡œ ë³µê·€
4. ë‹¤ë¥¸ ì‚¬ìš©ìëŠ” `temporarily_held` ë˜ëŠ” `reserved` ìƒíƒœì˜ ì¢Œì„ ì„ íƒ ë¶ˆê°€
5. Cron ì‘ì—…(`/api/cron/cleanup-expired-holds`)ì´ ì£¼ê¸°ì ìœ¼ë¡œ ë§Œë£Œëœ ì„ ì ì„ ì •ë¦¬

### ì˜ˆì•½ í”„ë¡œì„¸ìŠ¤

1. **ì½˜ì„œíŠ¸ ì„ íƒ**: í™ˆì—ì„œ ì½˜ì„œíŠ¸ ì¹´ë“œ í´ë¦­
2. **ìƒì„¸ í™•ì¸**: ì½˜ì„œíŠ¸ ìƒì„¸ í˜ì´ì§€ì—ì„œ ì •ë³´ í™•ì¸
3. **ì¢Œì„ ì„ íƒ**: ì¢Œì„ ë°°ì¹˜ë„ì—ì„œ ì›í•˜ëŠ” ì¢Œì„ ì„ íƒ
4. **ì„ì‹œ ì„ ì **: ì„ íƒí•œ ì¢Œì„ì´ 5ë¶„ê°„ ì„ ì ë¨
5. **ì˜ˆì•½ ì •ë³´ ì…ë ¥**: ì˜ˆì•½ì ì •ë³´(ì´ë¦„, íœ´ëŒ€í°, ë¹„ë°€ë²ˆí˜¸) ì…ë ¥
6. **ì˜ˆì•½ í™•ì •**: íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì˜ˆì•½ ìƒì„± ë° ì¢Œì„ ìƒíƒœ ë³€ê²½
7. **ì˜ˆì•½ ì™„ë£Œ**: ì˜ˆì•½ ë²ˆí˜¸ ë°œê¸‰ ë° ì™„ë£Œ í˜ì´ì§€ í‘œì‹œ

### ì˜ˆì•½ ì¡°íšŒ ë° ì·¨ì†Œ

- íœ´ëŒ€í° ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ë¡œ ì˜ˆì•½ ë‚´ì—­ ì¡°íšŒ
- ì˜ˆì•½ ì·¨ì†Œ ì‹œ ì—°ê²°ëœ ì¢Œì„ë“¤ì´ `available` ìƒíƒœë¡œ ë³µê·€
- ì†Œí”„íŠ¸ ì‚­ì œ ë°©ì‹ìœ¼ë¡œ ì˜ˆì•½ ë‚´ì—­ ë³´ì¡´

## ğŸ§ª í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
npm run test
```

### í…ŒìŠ¤íŠ¸ êµ¬ì¡°

- `src/features/**/__tests__/` - ê¸°ëŠ¥ë³„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- `src/features/**/hooks/__tests__/` - í›… í…ŒìŠ¤íŠ¸
- `src/features/**/state/__tests__/` - ìƒíƒœ ê´€ë¦¬ í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

```typescript
// src/features/seat-selection/state/__tests__/seat-selection-reducer.test.ts
import { describe, it, expect } from 'vitest';

describe('seat selection reducer', () => {
  it('should handle seat selection', () => {
    // í…ŒìŠ¤íŠ¸ ë¡œì§
  });
});
```

## ğŸ›  ê°œë°œì ë„êµ¬

ê°œë°œ ë° ë””ë²„ê¹…ì„ ìœ„í•œ ë„êµ¬ë“¤ì´ `/dev` ê²½ë¡œì— ì œê³µë©ë‹ˆë‹¤:

### ì¢Œì„ ê°ì‹œ (Seat Audit)
- **ê²½ë¡œ**: `/dev/seat-audit`
- **ê¸°ëŠ¥**: ì½˜ì„œíŠ¸ë³„ ì¢Œì„ ìƒíƒœ í™•ì¸ ë° ê²€ì¦
- **ìš©ë„**: ì¢Œì„ ë°ì´í„° ë¬´ê²°ì„± ê²€ì¦

### ì„ ì  ì •ë¦¬ ê´€ë¦¬
- **ê²½ë¡œ**: `/dev/admin/cleanup`
- **ê¸°ëŠ¥**: ë§Œë£Œëœ ì„ ì  ì¢Œì„ ìˆ˜ë™ ì •ë¦¬ ë° ëª¨ë‹ˆí„°ë§
- **ìš©ë„**: ì„ ì  ì‹œìŠ¤í…œ ë””ë²„ê¹… ë° ìˆ˜ë™ ì •ë¦¬

### Cron ì‘ì—…
- **ê²½ë¡œ**: `/api/cron/cleanup-expired-holds`
- **ê¸°ëŠ¥**: ë§Œë£Œëœ ì„ ì  ì¢Œì„ ìë™ ì •ë¦¬
- **ì„¤ì •**: Vercel Cron Jobs ë˜ëŠ” ë³„ë„ ìŠ¤ì¼€ì¤„ëŸ¬ë¡œ ì„¤ì •

## ğŸ“š ì¶”ê°€ ë¬¸ì„œ

- [PRD (ì œí’ˆ ìš”êµ¬ì‚¬í•­)](docs/prd.md)
- [Userflow (ì‚¬ìš©ì í”Œë¡œìš°)](docs/userflow.md)
- [Database Schema](docs/database.md)
- [State Management Guide](docs/state-management.md)

## ğŸ¤ ê¸°ì—¬

ì´ í”„ë¡œì íŠ¸ëŠ” í•™ìŠµ ë° í¬íŠ¸í´ë¦¬ì˜¤ ëª©ì ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” ê°œì¸ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

---

**Made with â¤ï¸ using Next.js, Supabase, and Hono**
